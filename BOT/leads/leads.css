/* PHSBOT – Leads Admin Styles (accordion detail) */

/* Tabs - estilo redondeado pegado al contenido */
.nav-tab-wrapper {
  border-bottom: none !important;
  margin-bottom: 0 !important;
  padding-top: 0 !important;
  display: flex;
  gap: 8px;
}

.nav-tab-wrapper .nav-tab {
  background: #f0f0f0;
  color: #2c3338;
  border: none !important;
  border-radius: 8px 8px 0 0;
  padding: 10px 20px;
  margin: 0 !important;
  font-weight: 500;
  transition: all 0.2s ease;
}

.nav-tab-wrapper .nav-tab:hover {
  background: #e5e5e5;
}

.nav-tab-wrapper .nav-tab-active,
.nav-tab-wrapper .nav-tab-active:hover {
  background: #ffffff !important;
  color: #000000;
  font-weight: 600;
  box-shadow: 0 2px 4px rgba(0,0,0,0.05);
}

.phsbot-wrap .phsbot-leads-toolbar{display:flex;gap:10px;align-items:center;margin:16px 0 20px;flex-wrap:wrap}
#phsbot-leads-search{min-width:320px;max-width:520px;padding:6px 8px}
.phsbot-switch{display:inline-flex;gap:8px;align-items:center}

/* Botones toolbar con estilos específicos */
#phsbot-leads-purge {
  background: #555 !important;
  color: #fff !important;
  border-color: #555 !important;
}

#phsbot-leads-purge:hover {
  background: #333 !important;
  border-color: #333 !important;
}

#phsbot-leads-reset-browser {
  background: #999 !important;
  color: #fff !important;
  border-color: #999 !important;
}

#phsbot-leads-reset-browser:hover {
  background: #777 !important;
  border-color: #777 !important;
}

/* Tabla moderna sin bordes */
.phsbot-leads-table {
  border: none !important;
  border-collapse: separate !important;
  border-spacing: 0 4px !important;
  background: transparent !important;
}

.phsbot-leads-table thead tr {
  background: transparent !important;
}

.phsbot-leads-table thead th {
  background: #fafafa !important;
  border: 1px solid #f0f0f0 !important;
  border-bottom: 2px solid #e8e8e8 !important;
  padding: 10px 12px !important;
  font-weight: 600 !important;
  font-size: 13px !important;
  color: #555 !important;
  text-transform: uppercase;
  letter-spacing: 0.3px;
}

.phsbot-leads-table thead th:first-child {
  border-radius: 8px 0 0 8px;
}

.phsbot-leads-table thead th:last-child {
  border-radius: 0 8px 8px 0;
}

/* Filas como tarjetas */
.phsbot-leads-table tbody tr:not(.phsbot-detail) {
  background: #ffffff !important;
  border: 1px solid #ececec !important;
  border-radius: 8px !important;
  transition: all 0.2s ease;
  box-shadow: 0 1px 2px rgba(0,0,0,0.02);
}

/* Filas pares con fondo gris muy clarito */
.phsbot-leads-table tbody tr:not(.phsbot-detail):nth-child(even) {
  background: #fafafa !important;
}

.phsbot-leads-table tbody tr:not(.phsbot-detail):hover {
  border-color: #d5d5d5 !important;
  box-shadow: 0 2px 6px rgba(0,0,0,0.06);
  transform: translateY(-1px);
}

.phsbot-leads-table tbody tr:not(.phsbot-detail) td {
  border: none !important;
  padding: 12px !important;
  vertical-align: middle !important;
}

.phsbot-leads-table tbody tr:not(.phsbot-detail) td:first-child {
  border-radius: 8px 0 0 8px;
}

.phsbot-leads-table tbody tr:not(.phsbot-detail) td:last-child {
  border-radius: 0 8px 8px 0;
}

/* Fila abierta con detalle */
.phsbot-leads-table tbody tr.is-open:not(.phsbot-detail) {
  background: #fafffe !important;
  border-color: #c8e6ff !important;
  box-shadow: 0 2px 8px rgba(0,0,0,0.08);
}

.phsbot-leads-table .check-col{width:24px}
.phsbot-leads-table .actions-col{width:200px}
.phsbot-badge{display:inline-block;min-width:36px;text-align:center;padding:2px 6px;border-radius:4px;background:#f5f5f5}
.phsbot-badge.ok{background:#d8f5dd}
.phsbot-state.open{color:#0a7f2e;font-weight:600}
.phsbot-state.closed{color:#9b1c1c;font-weight:600}
.phsbot-truncate{max-width:280px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
.phsbot-leads-bulk{margin-top:10px}

/* Botones de acciones con estilos específicos */
.phsbot-view {
  background: #e8e8e8 !important;
  color: #333 !important;
  border-color: #d5d5d5 !important;
}

.phsbot-view:hover {
  background: #d5d5d5 !important;
  border-color: #c0c0c0 !important;
}

.phsbot-close {
  background: #000 !important;
  color: #fff !important;
  border-color: #000 !important;
}

.phsbot-close:hover {
  background: #333 !important;
  border-color: #333 !important;
}

.phsbot-del {
  background: #fff !important;
  color: #dc3232 !important;
  border: 1px solid #dc3232 !important;
}

.phsbot-del:hover {
  background: #dc3232 !important;
  color: #fff !important;
  border-color: #a00 !important;
}

/* Fila de detalle tipo persiana */
tr.phsbot-detail td {
  background: #f8fafb !important;
  padding: 0 !important;
  border: 1px solid #e0e8f0 !important;
  border-top: none !important;
  border-radius: 0 0 8px 8px !important;
}

.phsbot-detail__wrap {
  padding: 16px 18px;
}

/* Meta y resumen */
.meta-grid{display:grid;grid-template-columns:repeat(3,minmax(0,1fr));gap:6px 16px;margin-bottom:12px}
@media (max-width:900px){.meta-grid{grid-template-columns:repeat(2,minmax(0,1fr))}}
@media (max-width:600px){.meta-grid{grid-template-columns:1fr}}

/* Conversación */
.conv{border-top:1px solid #efefef;margin-top:12px;padding-top:12px;max-height:420px;overflow:auto}
.bubble{padding:10px 12px;border-radius:10px;margin:8px 0}
.bubble .meta{opacity:.8;font-size:12px;margin-bottom:4px;color:#666}
.bubble.user{background:#f0f7ff;border-left:3px solid #5b9cff;border:1px solid #e3f0ff}
.bubble.bot{background:#fafafa;border-left:3px solid #d0d0d0;border:1px solid #efefef}
.bubble .text{line-height:1.5}
button.link.phsbot-more{background:none;border:0;padding:0;margin-left:6px;cursor:pointer;text-decoration:underline;font-size:12px;color:#5b9cff}
button.link.phsbot-more:hover{text-decoration:none;color:#3d7ce0}

/* Oculta estilos antiguos de modal si quedaban */
.phsbot-modal{display:none!important}

/* Burbujas conversación - ya heredan estilos arriba, solo ajustes específicos */
.phsbot-detail__wrap .conv .bubble{max-width:90%}
.phsbot-detail__wrap .conv .meta{margin:4px 2px}